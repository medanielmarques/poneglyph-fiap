generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["referentialIntegrity"]
}

datasource db {
  provider             = "mysql"
  url                  = env("DATABASE_URL")
  referentialIntegrity = "prisma"
}

model User {
  id         String     @id @default(cuid())
  name       String
  username   String     @unique
  email      String     @unique
  subscriber Boolean    @default(false)
  userStats  UserStats?

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt
}

model UserStats {
  id               String @id @default(cuid())
  totalXp          Int    @default(0)
  currentOffensive Int    @default(0)
  highestOffensive Int    @default(0)
  heartsCount      Int    @default(5)
  coins            Int    @default(10)
  user             User   @relation(fields: [userId], references: [id])
  userId           String @unique

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  @@index([userId])
}
